<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | 付之轻 - 帮助文档</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/assets/images/logo.jpg">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icon/apple-icon-152x152-dunplab-manifest-9822.jpg">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="付之轻网络工作室出品的WordPress插件、主题的在线文档">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icon/apple-icon-144x144-dunplab-manifest-9822.jpg">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.3ac08e06.css" as="style"><link rel="preload" href="/assets/js/app.3daa5b21.js" as="script"><link rel="preload" href="/assets/js/2.4e835e48.js" as="script"><link rel="preload" href="/assets/js/7.f93f9957.js" as="script"><link rel="preload" href="/assets/js/3.050f3734.js" as="script"><link rel="prefetch" href="/assets/js/10.d983aed8.js"><link rel="prefetch" href="/assets/js/11.c56d7c80.js"><link rel="prefetch" href="/assets/js/12.1958c88f.js"><link rel="prefetch" href="/assets/js/13.f0312e9e.js"><link rel="prefetch" href="/assets/js/14.6b41597e.js"><link rel="prefetch" href="/assets/js/15.40ab5a27.js"><link rel="prefetch" href="/assets/js/16.93166b1e.js"><link rel="prefetch" href="/assets/js/17.8963ccf1.js"><link rel="prefetch" href="/assets/js/18.2f01d8c5.js"><link rel="prefetch" href="/assets/js/4.1716ad21.js"><link rel="prefetch" href="/assets/js/5.787ba1cf.js"><link rel="prefetch" href="/assets/js/6.ea343eb1.js"><link rel="prefetch" href="/assets/js/8.47160608.js"><link rel="prefetch" href="/assets/js/9.0adfc5bd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3ac08e06.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/images/logo.jpg" alt="付之轻 - 帮助文档" class="logo"> <span class="site-name can-hide">付之轻 - 帮助文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="附件管理插件" class="dropdown-title"><span class="title">附件管理插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  介绍
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/getting-started/" class="nav-link">
  快速上手
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/self-built-storage/" class="nav-link">
  自建存储
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/theme/" class="nav-link">
  适配主题
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/template/" class="nav-link">
  自定义模板
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/download/" class="nav-link">
  下载地址
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/how-to-update/" class="nav-link">
  插件升级
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/question-and-answer/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/files-migration/" class="nav-link">
  附件迁移
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/change-log/" class="nav-link">
  更新日志
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="标签页插件" class="dropdown-title"><span class="title">标签页插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fuzqing-tags-page/" class="nav-link">
  介绍
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-tags-page/#下载地址" class="nav-link">
  下载地址
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="附件管理插件" class="dropdown-title"><span class="title">附件管理插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  介绍
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/getting-started/" class="nav-link">
  快速上手
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/self-built-storage/" class="nav-link">
  自建存储
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/theme/" class="nav-link">
  适配主题
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/template/" class="nav-link">
  自定义模板
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/download/" class="nav-link">
  下载地址
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/how-to-update/" class="nav-link">
  插件升级
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/question-and-answer/" class="nav-link">
  常见问题
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/files-migration/" class="nav-link">
  附件迁移
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-file-manager/change-log/" class="nav-link">
  更新日志
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="标签页插件" class="dropdown-title"><span class="title">标签页插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fuzqing-tags-page/" class="nav-link">
  介绍
</a></li><li class="dropdown-item"><!----> <a href="/fuzqing-tags-page/#下载地址" class="nav-link">
  下载地址
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>付之轻附件管理插件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fuzqing-file-manager/" aria-current="page" class="active sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fuzqing-file-manager/#应用场景" class="sidebar-link">应用场景</a></li><li class="sidebar-sub-header"><a href="/fuzqing-file-manager/#疑问解答" class="sidebar-link">疑问解答</a></li><li class="sidebar-sub-header"><a href="/fuzqing-file-manager/#插件特色" class="sidebar-link">插件特色</a></li><li class="sidebar-sub-header"><a href="/fuzqing-file-manager/#使用说明" class="sidebar-link">使用说明</a></li></ul></li><li><a href="/fuzqing-file-manager/getting-started.html" class="sidebar-link">快速上手</a></li><li><a href="/fuzqing-file-manager/self-built-storage.html" class="sidebar-link">自建存储</a></li><li><a href="/fuzqing-file-manager/theme.html" class="sidebar-link">适配主题</a></li><li><a href="/fuzqing-file-manager/template.html" class="sidebar-link">自定义模板</a></li><li><a href="/fuzqing-file-manager/download.html" class="sidebar-link">下载地址</a></li><li><a href="/fuzqing-file-manager/how-to-update.html" class="sidebar-link">插件升级</a></li><li><a href="/fuzqing-file-manager/question-and-answer.html" class="sidebar-link">常见问题</a></li><li><a href="/fuzqing-file-manager/files-migration.html" class="sidebar-link">附件迁移</a></li><li><a href="/fuzqing-file-manager/change-log.html" class="sidebar-link">更新日志</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h1> <p>使用WordPress建站的人越来越多，其中下载站占据大多数。
目前做下载站的，资源下载解决方案无非就是各种网盘下载，有些为了提高用户体验（为了收费盈利）还会增加本地高速直链下载。但是直链下载需要消耗巨大的流量费，而且占用本地服务器的资源。
不管是网盘下载还是本地直链下载，都避免不了一个问题，就是下载链接有可能会被人泄露出去。特别是对于收费的资源，下载链接泄露出去后对站点造成非常大的损失，除了资源下载流量的损失，还有付费用户的损失。
因此我们需要针对资源下载站的付费资源，开发一个高速直链的解决方案，同时具备防盗功能（这里我们对防盗功能的定义为：用户付费下载后，通过浏览器的下载管理里面复制的下载地址，发给别人之后，别人无法通过这个链接进行下载）**
针对这种情况，付之轻网络工作室整理了一个防盗的高速直链下载的方案，做了一个插件：“付之轻附件管理”插件。这是一款资源下载站高速直链生成和资源管理利器，通用于任何WordPress下载站点，当然也对专门的下载站主题做了适配（如B2主题，日主题、子比主题）。目前已适配七牛云、阿里云OSS、又拍云和腾讯云COS，更多云存储正在适配中。
目前该插件为1.0正式版，已适配B2主题、日主题，更多资源下载类主题正在适配中。</p> <h2 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h2> <p>小王做一个下载站，所有的下载资源，免费用户给百度网盘下载链接。但是百度网盘网速受限啊，用户体验不好，纷纷跑去其他地方下载了。怎么留住用户呢？而且站长也想要盈利啊，怎么办？
简单，<strong>所有的资源加一个本地高速直链下载，高速直链针对付费用户开放。</strong> 这样子网站有了盈利来源，又不用担心直链下载的流量费（<strong>每一个高速直链下载的用户都是付费用户，这点流量费算什么</strong>）</p> <h2 id="疑问解答"><a href="#疑问解答" class="header-anchor">#</a> 疑问解答</h2> <p>很多人对该插件有一些疑问，下面一一解答（更新中）</p> <p>七牛云或阿里云OSS太贵了，用不起？</p> <p>有人担心资源放在七牛云，流量费承担不起。其实不用担心，因为每一个下载都意味着有一次收入（除非你把高速下载直链开放给免费用户）。用户想要付费一次把链接分享出去给别人下载是不可能的，因为目前链接做了双重保护：<br>
1、refer防盗链，直接复制链接到浏览器会打不开；<br>
2、链接设置了时效性，时间一过链接自动失效了，即是被人伪造了refer也没有用。</p> <p>所以，不用担心流量问题，因为每一次下载，必定有一个收入（付费用户或付费订单）。收入多少就是站长自己设定的价格了。</p> <p>我直接在WordPress后台上传文件，生成https://xxx.com/xxx.zip的直链不是更方便？</p> <p>这样子确实可以，但是作为站长，请您思考一下，高速直链是开放给付费用户专用的，如果用户一次付费后把https://xxx.com/xxx.zip这个直链分享出去，以后其他用户就不付费了，直接下载，那站长还怎么盈利呢？第二，文件直接在WordPress后台媒体中心上传不方便管理，下载人数多了服务器也承受不起。</p> <p>所以我们整理了这个高速直链的方案，所有文件生成的下载链接都是动态的并且有时效性的，过期自动失效，不用担心被分享出去。</p> <p><img src="/assets/fuzqing-file-manager/index/1.jpg" alt=""></p> <h2 id="插件特色"><a href="#插件特色" class="header-anchor">#</a> 插件特色</h2> <ul><li>支持使用七牛云、阿里云COS、又拍云和腾讯云COS作为存储空间，未来会适配更多云存储服务；</li> <li>支持所有格式的文件；</li> <li>上传后支持自动压缩zip，节省空间，统一管理；</li> <li>上传附件支持加密压缩，并且支持统一压缩密码和单独设置压缩密码；</li> <li>支持前端直传，方便服务器配置低的和不需要加密压缩的小伙伴；</li> <li>生成动态直链下载链接，支持<code>refer</code>防盗链并且可以自定义设置自动过期，防止直链外泄；</li> <li>支持自定义配置限制同一个用户每天只能下载同一个资源的次数，防止恶意用户盗刷<code>CDN</code>流量；</li> <li>专门针对B2主题进行深度适配，支持自定义设置填充模板，支持将恶意用户关进小黑屋；</li> <li>……</li></ul> <h2 id="使用说明"><a href="#使用说明" class="header-anchor">#</a> 使用说明</h2> <p>以下文档我们以B2主题为例进行解读。</p> <h3 id="设置存储空间"><a href="#设置存储空间" class="header-anchor">#</a> 设置存储空间</h3> <p>以七牛云存储为例，我们先去七牛云控制台新增一个存储空间，存储地区按需选择，访问权限设置为私有。</p> <p><img src="/assets/fuzqing-file-manager/index/2.jpg" alt=""></p> <h3 id="绑定域名"><a href="#绑定域名" class="header-anchor">#</a> 绑定域名</h3> <p>创建好存储空间后记得去绑定一个二级域名作为下载域名，比如down.mikelin.cn</p> <p><img src="/assets/fuzqing-file-manager/index/3.jpg" alt=""></p> <h3 id="设置插件"><a href="#设置插件" class="header-anchor">#</a> 设置插件</h3> <p>创建好存储空间之后，我们就可以到WordPress后台设置附件管理插件了。设置说明如下：</p> <p><img src="/assets/fuzqing-file-manager/index/4.jpg" alt=""></p> <h3 id="附件分类"><a href="#附件分类" class="header-anchor">#</a> 附件分类</h3> <p>附件管理我们可以进行分类、上传、删除资源附件等等。为了方便管理，上传附件之前请先添加附件分类。</p> <p><img src="/assets/fuzqing-file-manager/index/5.jpg" alt=""></p> <h3 id="上传附件"><a href="#上传附件" class="header-anchor">#</a> 上传附件</h3> <p>我们可以在附件管理里面直接上传资源，点击“附件上传”按钮，在弹出的窗口选择分类，设置压缩密码，然后选择要上传的文件即可。为了方便我们直接内置了6-12位随机密码生成的按钮。</p> <p><img src="/assets/fuzqing-file-manager/index/6.jpg" alt=""></p> <h3 id="在文章里面插入附件"><a href="#在文章里面插入附件" class="header-anchor">#</a> 在文章里面插入附件</h3> <p>这是本插件的重点功能</p> <p>B2主题内置了下载功能，并且做了鉴权和加密。但是主题并没有提供高速直链的解决方案，这对于想要靠资源下载盈利的站长来说无疑是不利的。（目前做下载站的套路无非就是百度网盘免费下载，但是百度网盘限速啊。如果能够提供本地高速直链下载，那么对于网站用户来说是非常好的一种体验。）</p> <p>比如我们在添加资源的时候，使用的是https://xxx.com/xxx.zip形式的直链，那么用户最总在浏览器的下载管理里面是能够复制到https://xxx.com/xxx.zip这个直链链接的，这样子的话一个用户付费后把这个链接分享出去，付费下载便没有意义了，站长不用做了。</p> <p><img src="/assets/fuzqing-file-manager/index/7.jpg" alt=""></p> <p>通过我们的附件管理插件，我们可以直接快速插入附件，不用先转到附件管理页面复制链接再到文章编辑页面粘贴链接。</p> <p><img src="/assets/fuzqing-file-manager/index/8.jpg" alt=""></p> <p>点击“从附件获取或上传”按钮，在弹出的窗口选择你要添加到文章的附件，点击“自动填充”，即可将附件自动填充好。</p> <p><img src="/assets/fuzqing-file-manager/index/9.jpg" alt=""></p> <p><img src="/assets/fuzqing-file-manager/index/10.jpg" alt=""></p> <h3 id="效果展示"><a href="#效果展示" class="header-anchor">#</a> 效果展示</h3> <p>最后，用户付费下载了这个资源，在用户的浏览器的下载管理里面，体现出来的地址是这样子的：</p> <p><img src="/assets/fuzqing-file-manager/index/11.jpg" alt=""></p> <p>下载链接设置了防盗链，直接复制给别人无法直接打开。并且设置了过期时间，时间一到链接自动失效。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/7/2020, 2:03:32 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/fuzqing-file-manager/getting-started.html">
        快速上手
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.3daa5b21.js" defer></script><script src="/assets/js/2.4e835e48.js" defer></script><script src="/assets/js/7.f93f9957.js" defer></script><script src="/assets/js/3.050f3734.js" defer></script>
  </body>
</html>
